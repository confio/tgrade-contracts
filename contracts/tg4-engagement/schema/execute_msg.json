{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "ExecuteMsg",
  "oneOf": [
    {
      "description": "Change the admin",
      "type": "object",
      "required": [
        "update_admin"
      ],
      "properties": {
        "update_admin": {
          "type": "object",
          "properties": {
            "admin": {
              "type": [
                "string",
                "null"
              ]
            }
          }
        }
      },
      "additionalProperties": false
    },
    {
      "description": "apply a diff to the existing members. remove is applied after add, so if an address is in both, it is removed",
      "type": "object",
      "required": [
        "update_members"
      ],
      "properties": {
        "update_members": {
          "type": "object",
          "required": [
            "add",
            "remove"
          ],
          "properties": {
            "add": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/Member"
              }
            },
            "remove": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        }
      },
      "additionalProperties": false
    },
    {
      "description": "Add a new hook to be informed of all membership changes. Must be called by Admin",
      "type": "object",
      "required": [
        "add_hook"
      ],
      "properties": {
        "add_hook": {
          "type": "object",
          "required": [
            "addr"
          ],
          "properties": {
            "addr": {
              "type": "string"
            }
          }
        }
      },
      "additionalProperties": false
    },
    {
      "description": "Remove a hook. Must be called by Admin",
      "type": "object",
      "required": [
        "remove_hook"
      ],
      "properties": {
        "remove_hook": {
          "type": "object",
          "required": [
            "addr"
          ],
          "properties": {
            "addr": {
              "type": "string"
            }
          }
        }
      },
      "additionalProperties": false
    },
    {
      "description": "Distributes funds sent with this message, and all funds transferred since last call of this to members, proportionally to their weights. Funds are not immediately send to members, but assigned to them for later withdrawal (see: `ExecuteMsg::WithdrawFunds`)",
      "type": "object",
      "required": [
        "distribute_funds"
      ],
      "properties": {
        "distribute_funds": {
          "type": "object",
          "properties": {
            "sender": {
              "description": "Original source of funds, informational. If present overwrites \"sender\" field on propagated event.",
              "type": [
                "string",
                "null"
              ]
            }
          }
        }
      },
      "additionalProperties": false
    },
    {
      "description": "Withdraws funds which were previously distributed and assigned to sender.",
      "type": "object",
      "required": [
        "withdraw_funds"
      ],
      "properties": {
        "withdraw_funds": {
          "type": "object",
          "properties": {
            "owner": {
              "description": "Account which funds assigned too should be withdrawn, `sender` by default. `sender` has to be eligible for withdrawal from `owner` address to perform this call (`owner` has to call `DelegateWithdrawal { delegated: seder }` before)",
              "type": [
                "string",
                "null"
              ]
            },
            "receiver": {
              "description": "Address where to transfer funds. If not present, funds would be send to `sender`.",
              "type": [
                "string",
                "null"
              ]
            }
          }
        }
      },
      "additionalProperties": false
    },
    {
      "description": "Sets given address as allowed for senders funds withdrawal. Funds still can be withdrawn by sender himself, but additional account is allowed to perform it as well. There can be only one account delegated for withdrawal for any owner at single time.",
      "type": "object",
      "required": [
        "delegate_withdrawal"
      ],
      "properties": {
        "delegate_withdrawal": {
          "type": "object",
          "required": [
            "delegated"
          ],
          "properties": {
            "delegated": {
              "description": "Account delegated for withdrawal. To disallow current withdrawal, best is to set it to own address.",
              "type": "string"
            }
          }
        }
      },
      "additionalProperties": false
    }
  ],
  "definitions": {
    "Member": {
      "description": "A group member has a weight associated with them. This may all be equal, or may have meaning in the app that makes use of the group (eg. voting power)",
      "type": "object",
      "required": [
        "addr",
        "weight"
      ],
      "properties": {
        "addr": {
          "type": "string"
        },
        "weight": {
          "type": "integer",
          "format": "uint64",
          "minimum": 0.0
        }
      }
    }
  }
}
